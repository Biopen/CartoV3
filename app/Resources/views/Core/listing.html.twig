{% extends "::bundle_layout.html.twig" %}

{% block title %}Listing{% endblock %}

{# Stylessheets #}
{% block stylesheets %}

  <link rel="stylesheet" href="{{ asset('assets/img/icon/styles.css') }}">
  {# <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons"> #}
  <link rel="stylesheet" href="{{ asset('assets/css/listing.css') }}">
  

{% endblock %}



{# BODY CONTENT #}
{% block body_content %}



<div id="div_map_and_products">
  
  {# La liste des products #}
  <section id="ProductsList" class="customScrollBar"> 
      {% include '::Core/section-products-listing.html.twig' %}    
  </section>
   
  {# La Carte et les infos provider #} 
  <section id="section_carte">

    {#  PRELOADER #}
    {% include '::Components/loader.html.twig'  %}  

    <div id="map"></div>

    <section id="bandeau_detail" class="customScrollBar">
      <div id="detail_provider"></div>
    </section>

    {# <div id="bandeau_option"></div> #}

    <div id="btn_menu"><i class='icon-menu'></i></div> 
    <div id="overlay"></div>
  </section>  

</div>

{% endblock %}

{% block javascripts %}

  <script>

    var iconDirectory = "{{ asset('assets/img/icon/') }}";
    var providerListJson = null;
    {% if providerList is defined %}
      providerListJson = {{ providerList | serialize("json") | raw }};
    {% endif %}

    var constellationMode = false;

    var geocodeResponse = {{ geocodeResponse | serialize("json") | raw }};
  </script>


  <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
  <script src="{{ path('fos_js_routing_js', {'callback': 'fos.Router.setData'}) }}"></script>
   
    
    {% javascripts filter="?jsqueeze"
        "assets/js/libs/jquery-2.2.1.min.js"        
        "assets/js/libs/cluster/cluster-commons.js"
        "assets/js/libs/cluster/clustericon.js"
        "assets/js/libs/cluster/cluster.js"
        "assets/js/libs/rich-marker.js"
        "assets/js/libs/cluster/markerclusterer.js" 
        "assets/js/libs/materialize/bin/materialize.js"
        "assets/js/components/inputAddress.js" 
        "assets/js/commons.js" 
        "assets/js/libs/twig.js"
        "assets/js/listing/*"
        "assets/js/constelisting/*"
        
    %}
        <script src="{{ asset_url }}"></script>
    {% endjavascripts %}


    {% javascripts filter="twig_js" 
    '../app/Resources/views/Core/provider.html.twig'    
    %}
      <script type="text/javascript" src="{{ asset_url }}"></script>
    {% endjavascripts %}
    
    <script 
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBgah9u8A21CdN6O_fN80Op-4zcLJ0EwXk&libraries=places&callback=initMap">
    </script>

   {#<script  src="{{ asset('assets/js/libs/rich-marker.js') }}"></script>#}

{% endblock %}

