{% extends 'SonataAdminBundle::CRUD/base_edit.html.twig' %}

{% block title %}
    {% if admin.id(object) is not null %}
        {{ "title_edit"|trans({'%name%': admin.toString(object) }, 'SonataAdminBundle') }}
    {% else %}
        {{ "title_create"|trans({}, 'SonataAdminBundle') }}
    {% endif %}
{% endblock %}

{% block breadcrumb %}
    {% if admin.id(object) is not null %}
        {% set currNode = object %}
        {% set isMainNode = attribute(currNode, "isMainNode") is defined ? currNode.isMainNode : false %}
        
        <li class="active"><a href="#">{{ currNode.name }}</a></li>
        {% for i in 0..3 if not isMainNode %}
            {% set currNode = currNode.parent %} 
            {% set is_category = attribute(currNode, "isMainNode") is defined %}      
            {% set route_name = is_category ? 'admin_biopen_geodirectory_category_edit' : 'admin_biopen_geodirectory_option_edit' %}
            <li><a href={{ path(route_name, { id: currNode.id }) }}>{{ currNode.name }}</a></li>
            {% set isMainNode = is_category ? currNode.isMainNode : false %}
        {% endfor %}
        <li><a href={{ admin.generateUrl('list') }}>Liste des cat√©gories</a></li>
        
    {% endif %}

    <style>
        .breadcrumb>li {
            float: right;
        }
        .breadcrumb>li+li:before { content: ""; padding: 0;}
        .breadcrumb>li+li:after {
            padding: 0 5px;
            color: #ccc;
            content: "/\00a0";
        }
    </style>
{% endblock %}





