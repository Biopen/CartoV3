{% extends "@BiopenCoreBundle/page-layout.html.twig" %}

{% set pageName = 'directory' %}

{% block title %}{% endblock %}

{# Stylessheets #}
{% block page_stylesheets %}
  
{% endblock %}

{# BODY CONTENT #}
{% block body_content %}

  <div id="directory-container"></div>

{% endblock %}

{% block javascripts %}  

  <script>

    $(document).ready(function()
    {
        carto = goGoCarto('#directory-container', {
            taxonomy: {{ mainCategoryJson | raw }},
            openHours: {{ openHoursCategoryJson | raw }},
            elementApiUrl: 'http://localhost/GoGoCarto/web/app_dev.php/api/element',
            elementInBoundsApiUrl: 'http://localhost/GoGoCarto/web/app_dev.php/api/elementsInBounds',
            searchApiUrl: 'http://localhost/GoGoCarto/web/app_dev.php/api/search',
            deleteApiUrl:'http://localhost/GoGoCarto/web/app_dev.php/interact/delete',
            reportApiUrl: 'http://localhost/GoGoCarto/web/app_dev.php/interact/report',
            voteApiUrl: 'http://localhost/GoGoCarto/web/app_dev.php/interact/vote',
            editElementUrl: 'http://localhost/GoGoCarto/web/app_dev.php/acteur/edit/',
            userRole: '{{ userGogocartoRole }}',
            loginAction: function() { $("#popup-login").openModal(); }
        });
    });   

  </script>  

{% endblock %}

